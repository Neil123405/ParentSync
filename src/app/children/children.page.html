<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>ParentSync - Children</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="refreshData()">
        <ion-icon name="refresh" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button (click)="logout()">
        <ion-icon name="log-out" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Horizontal Students Section -->
  <!-- List of Children -->
  <div class="students-horizontal-section ion-padding-top">
    <h2>Your Children</h2>
    <div class="students-horizontal-container">
      <div 
        *ngFor="let child of laravelChildren" 
        class="student-card-horizontal"
        [class.active]="selectedChild?.student_id === child.student_id"
        (click)="selectChild(child)">
        <div class="student-avatar">
          <ion-icon name="person-circle"></ion-icon>
        </div>
        <div class="student-info">
          <h4>{{ child.first_name }}</h4>
          <h4>{{ child.last_name }}</h4>
          <p>Grade {{ child.grade_level }}</p>
          <p>{{ child.section_name }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Consent Forms Button -->
  <div *ngIf="selectedChild" class="ion-padding">
    <ion-button expand="block" color="primary" (click)="goToConsentForms(selectedChild)">
      <ion-icon name="document-text" slot="start"></ion-icon>
      Consent Forms
    </ion-button>
  </div>

  <!-- Default message when no child is selected -->
  <div *ngIf="!selectedChild && laravelChildren.length > 0" class="no-selection ion-padding">
    <ion-card>
      <ion-card-content class="ion-text-center">
        <ion-icon name="arrow-up" size="large"></ion-icon>
        <h3>Select a child above to view their information</h3>
        <p>Click on any child to see their consent forms, attendance, and school events.</p>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Add bottom padding -->
  <div style="height: 80px;"></div>

  <!-- Add Student Section -->
  <div class="add-student-section ion-padding">
    <ion-item>
      <ion-label position="floating">Student ID</ion-label>
      <ion-input type="number" [(ngModel)]="newStudentId"></ion-input>
    </ion-item>
    <ion-button expand="block" (click)="addStudent()" color="primary">
      Add Student
    </ion-button>
  </div>
</ion-content>
