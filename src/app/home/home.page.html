<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>ParentSync - Home</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="refreshData()">
        <ion-icon name="refresh" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button (click)="logout()">
        <ion-icon name="log-out" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding content-with-footer">
  <!-- Announcements Section -->
  <h2>Latest Announcements</h2>
  
  <ion-card *ngFor="let announcement of laravelAnnouncements" class="announcement-card">
    <ion-card-content>
      <h3>{{ announcement.title }}</h3>
      <p>{{ announcement.content }}</p>
      <ion-note>
        <small>{{ announcement.created_at | date:'medium' }}</small>
      </ion-note>
    </ion-card-content>
  </ion-card>

  <ion-item *ngIf="laravelAnnouncements.length === 0">
    <ion-label class="ion-text-center">
      No announcements available.
    </ion-label>
  </ion-item>

  <!-- Events Section -->
  <h2 class="ion-margin-top">Upcoming Events</h2>
  
  <ion-card *ngFor="let event of laravelEvents" class="event-card">
    <ion-card-content>
      <h3>{{ event.title }}</h3>
      <p *ngIf="event.description">{{ event.description }}</p>
      <div class="event-details">
        <p><strong>Date:</strong> {{ event.date | date }}</p>
        <p><strong>Time:</strong> {{ event.time }}</p>
        <p *ngIf="event.location"><strong>Location:</strong> {{ event.location }}</p>
        <p *ngIf="event.cost > 0"><strong>Cost:</strong> ${{ event.cost }}</p>
      </div>
    </ion-card-content>
  </ion-card>

  <ion-item *ngIf="laravelEvents.length === 0">
    <ion-label class="ion-text-center">
      No upcoming events.
    </ion-label>
  </ion-item>

  <!-- Debugging Information - Remove in Production -->
  <pre>{{ laravelAnnouncements | json }}</pre>
  <pre>{{ laravelEvents | json }}</pre>

  <!-- Add bottom padding to prevent content overlap with footer -->
  <div style="height: 80px;"></div>
</ion-content>